{"version":3,"sources":["store/csrf.js","store/session.js","components/LoginFormPage/index.js","components/SignUpFormPage/index.js","components/Navigation/ProfileButton.js","store/friend.js","components/FriendView/Friend.js","components/FriendView/index.js","components/UserOptions/index.js","components/Sidebar/index.js","components/Navigation/index.js","store/transaction.js","components/DashboardPage/YouAreOwed.js","components/DashboardPage/YouOwe.js","context/Modal.js","components/DashboardPage/AddExpenseForm.js","components/DashboardPage/AddExpenseModal.js","components/DashboardPage/index.js","components/RecentActivityPage/RecentTransactions.js","components/RecentActivityPage/index.js","components/AllExpenses/Comments.js","store/comment.js","components/AllExpenses/DetailView.js","components/AllExpenses/ExpenseDetail.js","components/AllExpenses/index.js","App.js","store/index.js","index.js"],"names":["fetch","url","a","options","method","headers","toUpperCase","Cookies","get","window","res","contentType","includes","json","data","status","SET_USER","REMOVE_USER","setUser","user","type","payload","sessionReducer","newState","state","action","Object","assign","LoginFormPage","dispatch","useDispatch","sessionUser","useSelector","session","useState","errors","setErrors","credential","setCredential","password","setPassword","to","className","onSubmit","e","preventDefault","body","JSON","stringify","response","catch","map","error","idx","name","id","placeholder","value","onChange","target","SignupFormPage","username","setUsername","email","setEmail","confirmPassword","setConfirmPassword","ProfileButton","showMenu","setShowMenu","useEffect","closeMenu","document","addEventListener","removeEventListener","onClick","GET_FRIENDS","getFriends","friends","friendReducer","Friend","values","friend","FriendView","count","setCount","setFriend","console","log","handleSubmit","header","success","UserOptions","Sidebar","visible","Navigation","sessionLinks","isLoaded","show","setShow","exact","alt","src","GET_BALANCES","GET_ACTIVITY","GET_ALL","getBalances","balances","transactionReducer","activity","all","YouAreOwed","entry","balance","toFixed","YouOwe","ModalContext","React","createContext","ModalProvider","children","modalRef","useRef","setValue","current","Provider","ref","Modal","onClose","modalNode","useContext","ReactDOM","createPortal","AddExpenseForm","otherUsers","setOtherUsers","users","setUsers","description","setDescription","amount","setAmount","paidBy","setPaidBy","date","setDate","split","expense","title","formData","onBlur","AddExpenseModal","showModal","setShowModal","DashboardPage","oweSum","setOweSum","owedSum","setOwedSum","oweArr","setOweArr","owedArr","setOwedArr","setOwe","setOwed","owe","owed","userId","balancesByUserId","usersById","reduce","sum","el","populateData","RecentTransactions","txn","createdBy","RecentActivityPage","userTxn","Comments","transactionId","comments","comment","content","GET_COMMENTS","getComments","commentsReducer","DetailView","tid","setComment","length","setLength","changeLength","parseFloat","total","month","day","year","userShares","share","ExpenseDetail","find","us","AllExpenses","dataAll","setDataAll","result","const","App","enhancer","setIsLoaded","then","path","rootReducer","combineReducers","friendsReducer","applyMiddleware","thunk","store","preloadedState","createStore","configureStore","Root","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c66d3397.chunk.js","sourcesContent":["// frontend/src/store/csrf.js\nimport Cookies from \"js-cookie\";\n\nexport async function fetch(url, options = {}) {\n  // set options.method to 'GET' if there is no method\n  options.method = options.method || \"GET\";\n  // set options.headers to an empty object if there is no headers\n  options.headers = options.headers || {};\n\n  // if the options.method is not 'GET', then set the \"Content-Type\" header to\n  // \"application/json\", and set the \"CSRF-TOKEN\" header to the value of the\n  // \"XSRF-TOKEN\" cookie\n  if (options.method.toUpperCase() !== \"GET\") {\n    options.headers[\"Content-Type\"] =\n      options.headers[\"Content-Type\"] || \"application/json\";\n    options.headers[\"XSRF-Token\"] = Cookies.get(\"XSRF-TOKEN\");\n  }\n  // call the default window's fetch with the url and the options passed in\n  const res = await window.fetch(url, options);\n\n  // if the response's body is JSON, then parse the JSON body and set it to a\n  // key of `data` on the response\n  const contentType = res.headers.get(\"content-type\");\n  if (contentType && contentType.includes(\"application/json\")) {\n    const data = await res.json();\n    res.data = data;\n  }\n\n  // if the response status code is 400 or above, then throw an error with the\n  // error being the response\n  if (res.status >= 400) throw res;\n\n  // if the response status code is under 400, then return the response to the\n  // next promise chain\n  return res;\n}\n\n// call this to get the \"XSRF-TOKEN\" cookie, should only be used in development\nexport function restoreCSRF() {\n  return fetch(\"/api/csrf/restore\");\n}\n","import { fetch } from \"./csrf\";\n\nconst SET_USER = \"session/setUser\";\nconst REMOVE_USER = \"session/removeUser\";\n\nconst setUser = (user) => {\n  return {\n    type: SET_USER,\n    payload: user,\n  };\n};\n\nconst removeUser = () => {\n  return {\n    type: REMOVE_USER,\n  };\n};\n\nexport const logout = () => async (dispatch) => {\n  const res = await fetch(\"/api/session\", {\n    method: \"DELETE\",\n  });\n  dispatch(removeUser());\n  return res;\n};\n\nexport const restoreUser = () => async (dispatch) => {\n  const res = await fetch(\"/api/session\");\n  dispatch(setUser(res.data.user));\n  return res;\n};\n\nexport const loginUser = (user) => async (dispatch) => {\n  const { credential, password } = user;\n  const response = await fetch(\"/api/session\", {\n    method: \"POST\",\n    body: JSON.stringify({\n      credential,\n      password,\n    }),\n  });\n  dispatch(setUser(response.data.user));\n  return response;\n};\n\nexport const signup = (user) => async (dispatch) => {\n  const { username, password, email } = user;\n\n  const res = await fetch(\"/api/users\", {\n    method: \"POST\",\n    body: JSON.stringify({\n      username,\n      email,\n      password,\n    }),\n  });\n  dispatch(setUser(res.data.user));\n  return res;\n};\n\nconst sessionReducer = (state = { user: null }, action) => {\n  let newState;\n  switch (action.type) {\n    case SET_USER:\n      newState = Object.assign({}, state);\n      newState.user = action.payload;\n      return newState;\n    case REMOVE_USER:\n      newState = Object.assign({}, state);\n      newState.user = null;\n      return newState;\n    default:\n      return state;\n  }\n};\n\nexport default sessionReducer;\n","import { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n\nimport \"./LoginForm.css\";\n\nimport * as sessionActions from \"../../store/session\";\n\nconst LoginFormPage = () => {\n  const dispatch = useDispatch();\n  const sessionUser = useSelector((state) => state.session.user);\n  const [errors, setErrors] = useState([]);\n  const [credential, setCredential] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  if (sessionUser) return <Redirect to=\"/\" />;\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    setErrors([]);\n    return dispatch(sessionActions.loginUser({ credential, password })).catch(\n      (res) => {\n        if (res.data && res.data.errors) setErrors(res.data.errors);\n      }\n    );\n  };\n\n  return (\n    <div className=\"main-container\">\n      <form className=\"login-form\" onSubmit={handleFormSubmit}>\n        <div className=\"login-container\">\n          <ul className=\"loginErrors-ul\">\n            {errors.map((error, idx) => (\n              <div className=\"loginErrors-div\" key={idx}>\n                {error}\n              </div>\n            ))}\n          </ul>\n          <div className=\"usernamefields\">\n            <label>Username</label>\n            <input\n              type=\"text\"\n              name=\"username\"\n              id=\"username\"\n              placeholder=\"i.e. John123\"\n              value={credential}\n              onChange={(e) => setCredential(e.target.value)}\n            ></input>\n          </div>\n          <div className=\"passwordfields\">\n            <label>Password</label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              id=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            ></input>\n          </div>\n          <button className=\"login-button\" type=\"submit\">\n            Log In\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default LoginFormPage;\n","import { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport * as sessionActions from \"../../store/session\";\n\nimport \"./SignupForm.css\";\n\nconst SignupFormPage = () => {\n  const dispatch = useDispatch();\n  const sessionUser = useSelector((state) => state.session.user);\n  const [errors, setErrors] = useState([]);\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n  if (sessionUser) return <Redirect to=\"/\" />;\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    if (password === confirmPassword) {\n      setErrors([]);\n      return dispatch(\n        sessionActions.signup({ email, username, password })\n      ).catch((res) => {\n        if (res.data && res.data.errors) setErrors(res.data.errors);\n      });\n    }\n    return setErrors([\"Password and Confirm Password must match\"]);\n  };\n\n  return (\n    <div className=\"main-container\">\n      <form className=\"signup-form\" onSubmit={handleFormSubmit}>\n        <div className=\"signup-container\">\n          <ul className=\"signupErrors-ul\">\n            {errors.map((error, idx) => (\n              <div className=\"signupErrors-div\" key={idx}>\n                {error}\n              </div>\n            ))}\n          </ul>\n          <div className=\"usernamefields\">\n            <label>Username</label>\n            <input\n              type=\"text\"\n              name=\"username\"\n              id=\"username\"\n              placeholder=\"i.e. John123\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            ></input>\n          </div>\n          <div className=\"emailfields\">\n            <label>Email</label>\n            <input\n              type=\"email\"\n              name=\"email\"\n              id=\"email\"\n              value={email}\n              placeholder=\"example@example.com\"\n              onChange={(e) => setEmail(e.target.value)}\n            ></input>\n          </div>\n          <div className=\"passwordfields\">\n            <label>Password</label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              id=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            ></input>\n          </div>\n          <div className=\"confirm-passwordfields\">\n            <label>Confirm Password</label>\n            <input\n              type=\"password\"\n              name=\"confirm-password\"\n              id=\"confirm-password\"\n              value={confirmPassword}\n              onChange={(e) => setConfirmPassword(e.target.value)}\n            ></input>\n          </div>\n          <button className=\"signup-button\" type=\"submit\">\n            Signup\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default SignupFormPage;\n","import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport * as sessionActions from \"../../store/session\";\nimport { Redirect } from \"react-router-dom\";\n\nfunction ProfileButton({ user }) {\n  const dispatch = useDispatch();\n  const [showMenu, setShowMenu] = useState(false);\n\n  const openMenu = () => {\n    if (showMenu) return;\n    setShowMenu(true);\n  };\n\n  useEffect(() => {\n    if (!showMenu) return;\n\n    const closeMenu = () => {\n      setShowMenu(false);\n    };\n\n    document.addEventListener(\"click\", closeMenu);\n\n    return () => document.removeEventListener(\"click\", closeMenu);\n  }, [showMenu]);\n\n  const logout = (e) => {\n    e.preventDefault();\n    dispatch(sessionActions.logout());\n    return <Redirect to=\"/\" />;\n  };\n\n  return (\n    <>\n      <button className=\"profile-link\" onClick={openMenu}>\n        <i className=\"fas fa-user-circle\" />\n        {showMenu && (\n          <ul className=\"profile-dropdown\">\n            <div>{user.username}</div>\n            <div>{user.email}</div>\n            <div>\n              <button onClick={logout}>Log Out</button>\n            </div>\n          </ul>\n        )}\n      </button>\n    </>\n  );\n}\n\nexport default ProfileButton;\n","import { fetch } from \"./csrf\";\n\nconst GET_FRIENDS = \"friends/all\";\n\nconst getFriends = (friends) => {\n  return {\n    type: GET_FRIENDS,\n    payload: friends,\n  };\n};\n\nexport const friends = () => async (dispatch) => {\n  const res = await fetch(\"/api/friends\");\n  console.log(res);\n  dispatch(getFriends(res.data));\n\n  return res;\n};\n\nconst friendReducer = (state = { friends: null }, action) => {\n  let newState;\n  switch (action.type) {\n    case GET_FRIENDS:\n      newState = Object.assign({}, state);\n      newState.friends = action.payload;\n      return newState;\n    default:\n      return state;\n  }\n};\n\nexport default friendReducer;\n","const Friend = ({ friends }) => {\n  if (!friends) {\n    return null;\n  }\n  return (\n    <div>\n      {Object.values(friends).map((friend) => {\n        return (\n          <div key={friend.username} className=\"friend\">\n            {friend.username}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Friend;\n","import { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetch } from \"../../store/csrf\";\n\nimport * as friendActions from \"../../store/friend\";\nimport \"./FriendView.css\";\n\nimport Friend from \"./Friend\";\n\nconst FriendView = () => {\n  const dispatch = useDispatch();\n  const friends = useSelector((state) => state.friends.friends);\n  const [count, setCount] = useState(0);\n  const [friend, setFriend] = useState(\"\");\n\n  useEffect(() => {\n    return dispatch(friendActions.friends());\n  }, [dispatch, count]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const res = await fetch(\"/api/friends\", {\n      method: \"POST\",\n      header: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ friend }),\n    });\n\n    setFriend(\"\");\n    setCount(count + 1);\n\n    if (res.data.success) {\n      return;\n    } else {\n      return;\n    }\n  };\n\n  return (\n    <div className=\"friend-container\">\n      <div className=\"friend-title\">Friends</div>\n      <Friend friends={friends}></Friend>\n      <div className=\"add-friend-container\">\n        <form onSubmit={handleSubmit} method=\"post\" type=\"submit\">\n          <label>\n            <input\n              onChange={(e) => setFriend(e.target.value)}\n              value={friend}\n              className=\"add-friend-input\"\n              placeholder=\"add a friend...\"\n            ></input>\n          </label>\n          <button className=\"add-button\" type=\"submit\">\n            Add\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default FriendView;\n","import { NavLink } from \"react-router-dom\";\n\nimport \"./UserOptions.css\";\n\nimport FriendView from \"../FriendView\";\n\nconst UserOptions = () => {\n  return (\n    <div className=\"options-div\">\n      <div className=\"navlinks\">\n        <NavLink to=\"/dashboard\">Dashboard</NavLink>\n      </div>\n      <div className=\"navlinks\">\n        <NavLink to=\"/activity\">Activity</NavLink>\n      </div>\n      <div className=\"navlinks\">\n        <NavLink to=\"/all\">All Expenses</NavLink>\n      </div>\n      <FriendView></FriendView>\n    </div>\n  );\n};\n\nexport default UserOptions;\n","import \"./Sidebar.css\";\nimport UserOptions from \"../UserOptions/index\";\n\nconst Sidebar = ({ visible }) => {\n  return (\n    <div id=\"navbar\" className={visible ? \"slideIn\" : \"slideOut\"}>\n      <UserOptions></UserOptions>\n    </div>\n  );\n};\n\nexport default Sidebar;\n","import { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport ProfileButton from \"./ProfileButton\";\nimport \"./Navigation.css\";\nimport Sidebar from \"../Sidebar\";\nimport \"../Sidebar/Sidebar.css\";\n\nconst Navigation = ({ isLoaded }) => {\n  const sessionUser = useSelector((state) => state.session.user);\n  const [show, setShow] = useState(false);\n\n  const handleClick = () => {\n    setShow((show) => !show);\n  };\n\n  let sessionLinks;\n  if (sessionUser) {\n    sessionLinks = <ProfileButton user={sessionUser} />;\n  } else {\n    sessionLinks = (\n      <div className=\"auth-links\">\n        <NavLink className=\"login-link\" to=\"/login\">\n          Log In\n        </NavLink>\n        <NavLink className=\"signup-link\" to=\"/signup\">\n          Sign Up\n        </NavLink>\n      </div>\n    );\n  }\n\n  return (\n    <nav className=\"main-nav-container\">\n      <div className=\"sidebar-menu\">\n        <button onClick={handleClick} className=\"sidebar\">\n          <i className=\"fas fa-bars\"></i>\n        </button>\n        <Sidebar visible={show}></Sidebar>\n      </div>\n      <div className=\"title\">\n        <div>\n          <NavLink exact to=\"/\">\n            <div className=\"logo\">\n              <img alt=\"splitease logo\" src=\"/images/splitease-logo.png\" />\n            </div>\n          </NavLink>\n        </div>\n      </div>\n      <div>\n        <div>{isLoaded && sessionLinks}</div>\n      </div>\n      {/* <div className=\"link-container\">\n        <div className=\"home-link\">\n          <NavLink exact to=\"/\">\n            Splitease\n          </NavLink> */}\n      {/* {isLoaded && sessionLinks} */}\n      {/* </div> */}\n      {/* // </div> */}\n    </nav>\n  );\n};\n\nexport default Navigation;\n","import { fetch } from \"./csrf\";\n\nconst GET_BALANCES = \"transactions/balances\";\nconst GET_ACTIVITY = \"transactions/activity\";\nconst GET_ALL = \"transactions/all\";\n\nconst getBalances = (balances) => {\n  return {\n    type: GET_BALANCES,\n    payload: balances,\n  };\n};\n\nconst getActivity = (activity) => {\n  return {\n    type: GET_ACTIVITY,\n    payload: activity,\n  };\n};\n\nconst getAll = (all) => {\n  return {\n    type: GET_ALL,\n    payload: all,\n  };\n};\n\nexport const balances = () => async (dispatch) => {\n  const res = await fetch(\"/api/transactions/balances\");\n  dispatch(getBalances(res.data));\n\n  return res;\n};\n\nexport const recentActivity = () => async (dispatch) => {\n  const res = await fetch(\"/api/transactions/activity\");\n  dispatch(getActivity(res.data));\n\n  return res;\n};\n\nexport const allExpenses = () => async (dispatch) => {\n  const res = await fetch(\"/api/transactions/all\");\n  dispatch(getAll(res.data));\n\n  return res;\n};\n\nconst transactionReducer = (\n  state = { balances: null, activity: null, all: null },\n  action\n) => {\n  let newState;\n  switch (action.type) {\n    case GET_BALANCES:\n      newState = Object.assign({}, state);\n      newState.balances = action.payload;\n      // console.log(\"state\", newState);\n      // console.log(\"action\", action.payload);\n      return newState;\n    case GET_ACTIVITY:\n      newState = Object.assign({}, state);\n      newState.activity = action.payload;\n      // console.log(\"state\", newState);\n      // console.log(\"action\", action.payload);\n      return newState;\n    case GET_ALL:\n      newState = Object.assign({}, state);\n      newState.all = action.payload;\n      return newState;\n    default:\n      return state;\n  }\n};\n\nexport default transactionReducer;\n","const YouAreOwed = ({ balances }) => {\n  if (!balances) {\n    return null;\n  }\n\n  return (\n    balances && (\n      <div className=\"youareowed-main-container\">\n        {balances.map((entry, idx) => {\n          return (\n            <div className=\"you-are-owed-container\" key={idx}>\n              <div>{entry.name}</div>\n              <div>{`owes you $${entry.balance.toFixed(2)}`}</div>\n            </div>\n          );\n        })}\n      </div>\n    )\n  );\n};\n\nexport default YouAreOwed;\n","// import { useSelector } from \"react-redux\";\n\nconst YouOwe = ({ balances }) => {\n  if (!balances) {\n    return null;\n  }\n\n  return (\n    balances && (\n      <div className=\"you-owe-main-container\">\n        {balances.map((entry, idx) => {\n          return (\n            <div className=\"you-owe-container\" key={idx}>\n              <div>{`You owe ${entry.name} $${-entry.balance.toFixed(2)}`}</div>\n            </div>\n          );\n        })}\n      </div>\n    )\n  );\n};\n\nexport default YouOwe;\n\n//  {values.map((entry, idx) => {\n//   <div className=\"you owe\"></div>;\n//   if (entry.balance < 0) {\n//     <div key={idx}>\n//       {`you owe ${entry.name} ${entry.balance}`}\n//     </div>;\n//   } else {\n//     <div key={idx}>\n//       {`you do not owe anything`}\n//     </div>;\n//   }\n\n//   if (entry.balance > 0) {\n//     <div className=\"you-are-owed\" key={idx + 1}>\n//       <div>{entry.name}</div>\n//       <div className=\"owes-you\">{`owes you ${entry.balance}`}</div>\n//     </div>;\n//   }\n//   <></>;\n// })}\n","import React, { useContext, useRef, useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./Modal.css\";\n\nconst ModalContext = React.createContext();\n\nexport function ModalProvider({ children }) {\n  const modalRef = useRef();\n  const [value, setValue] = useState();\n\n  useEffect(() => {\n    setValue(modalRef.current);\n  }, []);\n\n  return (\n    <>\n      <ModalContext.Provider value={value}>{children}</ModalContext.Provider>\n      <div ref={modalRef} />\n    </>\n  );\n}\n\nexport function Modal({ onClose, children }) {\n  const modalNode = useContext(ModalContext);\n  if (!modalNode) return null;\n\n  return ReactDOM.createPortal(\n    <div id=\"modal\">\n      <div id=\"modal-background\" onClick={onClose} />\n      <div id=\"modal-content\">{children}</div>\n    </div>,\n    modalNode\n  );\n}\n","import { useState } from \"react\";\n\nimport { fetch } from \"../../store/csrf\";\n\nconst AddExpenseForm = ({ onClose, setCount, count }) => {\n  const [otherUsers, setOtherUsers] = useState([]);\n  const [users, setUsers] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [amount, setAmount] = useState(\"\");\n  const [paidBy, setPaidBy] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    setOtherUsers(users.split(\", \"));\n\n    const expense = {\n      users: otherUsers,\n      title: description,\n      amount: amount,\n      paidBy: paidBy,\n      date: date,\n    };\n\n    const res = await fetch(\"/api/transactions/expense\", {\n      method: \"POST\",\n      header: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ formData: expense }),\n    });\n\n    if (res.data.success) {\n      setCount(count + 1);\n    } else {\n      // error handling\n      return;\n    }\n\n    onClose();\n  };\n\n  return (\n    <form\n      className=\"main-expense-container\"\n      method=\"post\"\n      onSubmit={handleSubmit}\n    >\n      <div className=\"modal-title-container\">\n        <div className=\"add-expense\">Add an expense</div>\n        {/* <div className=\"x-close\">x</div> */}\n      </div>\n      <div className=\"select-users-container\">\n        <label>with you and</label>\n        <input\n          value={users}\n          onChange={(e) => setUsers(e.target.value)}\n          onBlur={() => setOtherUsers(users.split(\", \"))}\n          type=\"text\"\n          placeholder=\"enter name or email address\"\n        ></input>\n      </div>\n      <div className=\"description-container\">\n        <input\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n          placeholder=\"enter a description\"\n        ></input>\n        <div className=\"amount-container\">\n          <label>$</label>\n          <input\n            value={amount}\n            onChange={(e) => setAmount(e.target.value)}\n            type=\"text\"\n            placeholder=\"0.00\"\n          ></input>\n        </div>\n      </div>\n      <div className=\"paid-by-container\">\n        <div className=\"paid-by\">\n          <label>Paid by: </label>\n          <input\n            value={paidBy}\n            onChange={(e) => setPaidBy(e.target.value)}\n            type=\"text\"\n          ></input>\n        </div>\n        <div className=\"split-evenly\">Transaction will be split evenly</div>\n        <label></label>\n        <input\n          value={date}\n          onChange={(e) => setDate(e.target.value)}\n          type=\"date\"\n        ></input>\n      </div>\n      <div className=\"footer-buttons-container\">\n        <button className=\"cancel\" onClick={() => onClose()}>\n          Cancel\n        </button>\n        <button className=\"save\" type=\"submit\">\n          Save\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default AddExpenseForm;\n","import { useState } from \"react\";\nimport { Modal } from \"../../context/Modal\";\nimport AddExpenseForm from \"./AddExpenseForm\";\n\nimport \"./ExpenseModal.css\";\n\nfunction AddExpenseModal({ setCount, count }) {\n  const [showModal, setShowModal] = useState(false);\n\n  return (\n    <>\n      <button className=\"add-expense-button\" onClick={() => setShowModal(true)}>\n        Add an expense\n      </button>\n      {showModal && (\n        <Modal onClose={() => setShowModal(false)}>\n          <AddExpenseForm\n            setCount={setCount}\n            count={count}\n            onClose={() => setShowModal(false)}\n          />\n        </Modal>\n      )}\n    </>\n  );\n}\n\nexport default AddExpenseModal;\n","import { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n\nimport \"./DashboardPage.css\";\n\nimport * as transactionActions from \"../../store/transaction\";\nimport YouAreOwed from \"./YouAreOwed\";\nimport YouOwe from \"./YouOwe\";\nimport AddExpenseModal from \"./AddExpenseModal\";\n\nconst DashboardPage = () => {\n  const dispatch = useDispatch();\n  const sessionUser = useSelector((state) => state.session.user);\n  const data = useSelector((state) => state.balances);\n  const [oweSum, setOweSum] = useState(0);\n  const [owedSum, setOwedSum] = useState(0);\n  const [oweArr, setOweArr] = useState([]);\n  const [owedArr, setOwedArr] = useState([]);\n  // eslint-disable-next-line no-unused-vars\n  const [owe, setOwe] = useState({});\n  // eslint-disable-next-line no-unused-vars\n  const [owed, setOwed] = useState({});\n  const [count, setCount] = useState(0);\n\n  useEffect(() => {\n    return dispatch(transactionActions.balances());\n  }, [dispatch, count]);\n\n  useEffect(() => {\n    let owe = {};\n    let owed = {};\n\n    let owedArr;\n    let oweArr;\n\n    let balances;\n    let users;\n\n    let oweSum;\n    let owedSum;\n\n    const populateData = () => {\n      if (data.balances) {\n        balances = data.balances.balancesByUserId;\n        users = data.balances.usersById;\n\n        for (let userId in balances) {\n          if (balances[userId] < 0) {\n            owe[userId] = {\n              balance: balances[userId],\n              name: users[userId].username,\n            };\n          }\n          if (balances[userId] > 0) {\n            owed[userId] = {\n              balance: balances[userId],\n              name: users[userId].username,\n            };\n          }\n        }\n\n        oweArr = Object.values(owe);\n        owedArr = Object.values(owed);\n\n        if (oweArr) {\n          oweSum = oweArr.reduce((sum, el) => sum + el.balance, 0);\n        }\n        if (owedArr) {\n          owedSum = owedArr.reduce((sum, el) => sum + el.balance, 0);\n        }\n      }\n    };\n    populateData();\n    setOwe(owe);\n    setOwed(owed);\n    setOweSum(oweSum);\n    setOwedSum(owedSum);\n    setOweArr(oweArr);\n    setOwedArr(owedArr);\n  }, [data.balances]);\n\n  if (!sessionUser) return <Redirect to=\"/\" />;\n\n  // console.log(\"MY STATE SUM----\", oweSum, owedSum, oweArr, owedArr, owe, owed);\n\n  return (\n    <div className=\"wrapper\">\n      <div className=\"dashboard-container\">\n        <div className=\"title-container\">\n          <div className=\"dashboard-title\">Dashboard</div>\n          <div className=\"button-container\">\n            <AddExpenseModal setCount={setCount} count={count} />\n          </div>\n        </div>\n        <div className=\"balances-container\">\n          <div className=\"totals-container\">\n            <div>total balance</div>\n            <div\n              className={`${owedSum + oweSum > 0 ? \"positive\" : \"negative\"}`}\n            >{`$${(owedSum + oweSum > 0\n              ? owedSum + oweSum\n              : -(owedSum + oweSum)\n            ).toFixed(2)}`}</div>\n          </div>\n          <div className=\"totals-container\">\n            <div>you owe</div>\n            <div\n              className={`${-oweSum > 0 ? \"negative\" : \"positive\"}`}\n            >{`$${(-oweSum).toFixed(2)}`}</div>\n          </div>\n          <div className=\"totals-container\">\n            <div>you are owed</div>\n            <div className={`${owedSum > 0 ? \"positive\" : \"negative\"}`}>{`$${\n              owedSum ? owedSum.toFixed(2) : owedSum\n            }`}</div>\n          </div>\n        </div>\n        <div className=\"owe-or-owed-container\">\n          <div className=\"owe\">YOU OWE</div>\n          <div className=\"owed\">YOU ARE OWED</div>\n        </div>\n        <div className=\"list-detail-container\">\n          <YouOwe balances={oweArr}></YouOwe>\n          <YouAreOwed balances={owedArr}></YouAreOwed>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DashboardPage;\n","import \"./RecentActivity.css\";\n\nconst RecentTransactions = ({ txn, user }) => {\n  return (\n    // go through and add divs around amounts to change color to red or green for owe or owed\n    <>\n      {txn.amount > 0 && txn.createdBy !== user.username ? (\n        <>\n          <div className=\"recent-activity-items\">\n            {`${txn.createdBy} added ${\n              txn.title\n            } and you get back $${txn.amount.toFixed(2)}`}\n          </div>\n        </>\n      ) : (\n        <>\n          <div className=\"recent-activity-items\">\n            {`${\n              user.username !== txn.createdBy\n                ? txn.createdBy + \" added\"\n                : \"you added\"\n            } ${txn.title} and you ${txn.amount < 0 ? \"owe\" : \"get back\"} $${\n              txn.amount < 0 ? -txn.amount.toFixed(2) : txn.amount.toFixed(2)\n            }`}\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default RecentTransactions;\n\n// return (\n//   transaction.currentUser === transaction.fromUser ? (\n//     <div\n//     key={idx}\n//     className=\"transaction-details\"\n//   >{`${transaction.currentUser}, ${transaction.total}, ${transaction.toUser}, ${transaction.fromUser}, ${transaction.date}`}</div>\n//   }\n\n// );\n","import { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n\nimport \"./RecentActivity.css\";\n\nimport * as transactionActions from \"../../store/transaction\";\nimport RecentTransactions from \"./RecentTransactions\";\n// import DetailView from \"./DetailView\";\n\nconst RecentActivityPage = () => {\n  const dispatch = useDispatch();\n  const data = useSelector((state) => state.balances.activity);\n  const user = useSelector((state) => state.session.user);\n  // const [showMenu, setShowMenu] = useState(false);\n\n  useEffect(() => {\n    return dispatch(transactionActions.recentActivity());\n  }, [dispatch]);\n\n  useEffect(() => {\n    const getData = () => {\n      if (data) {\n        console.log(data);\n      }\n    };\n\n    getData();\n  }, [data]);\n\n  if (!user) return <Redirect to=\"/\" />;\n\n  if (!data) {\n    return null;\n  }\n\n  return (\n    <div className=\"main-wrapper\">\n      <div className=\"activity-wrapper\">\n        <div className=\"recent-activity-title\">Recent Activity</div>\n        <div className=\"recent-activity\">\n          <>\n            {data.map((userTxn, idx) => (\n              <RecentTransactions\n                key={idx}\n                txn={userTxn}\n                user={user}\n              ></RecentTransactions>\n            ))}\n          </>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RecentActivityPage;\n\n// Old Logic\n\n// const [recentData, setRecentData] = useState([]);\n// const dispatch = useDispatch();\n// const data = useSelector((state) => state.transaction.history);\n// const user = useSelector((state) => state.session.user);\n\n// console.log(\"user info\", user);\n\n// const userId = user.id;\n\n// useEffect(() => {\n//   if (data === null) {\n//     return dispatch(transactionActions.recentActivity());\n//   }\n// }, [dispatch, data]);\n\n// const usernameChecker = (currentUser, transaction) => {\n//   let otherUser;\n\n//   if (transaction.to === currentUser) {\n//     otherUser = transaction.from;\n//   } else {\n//     otherUser = transaction.to;\n//   }\n\n//   return otherUser;\n// };\n\n// let activityNotUndef;\n\n// useEffect(() => {}, [recentData, data, user.username]);\n\n// console.log(\"recentData----\", recentData);\n","const Comments = ({ transactionId, comments }) => {\n  if (!comments) return null;\n  return (\n    <>\n      <div>\n        {comments[transactionId].map((comment) => {\n          return (\n            <div className=\"comment-wrapper\" key={comment.content}>\n              <div className=\"comment-content\">{comment.content}</div>\n              <div className=\"comment-user\">{comment.user.username}</div>\n            </div>\n          );\n        })}\n      </div>\n    </>\n  );\n};\n\nexport default Comments;\n","import { fetch } from \"./csrf\";\n\nconst GET_COMMENTS = \"comments/all\";\n\nconst getComments = (comments) => {\n  return {\n    type: GET_COMMENTS,\n    payload: comments,\n  };\n};\n\nexport const comments = () => async (dispatch) => {\n  const res = await fetch(\"/api/comments/all\");\n  dispatch(getComments(res.data));\n\n  return res;\n};\n\nconst commentsReducer = (state = { comments: null }, action) => {\n  let newState;\n  switch (action.type) {\n    case GET_COMMENTS:\n      newState = Object.assign({}, state);\n      newState.comments = action.payload;\n      return newState;\n    default:\n      return state;\n  }\n};\n\nexport default commentsReducer;\n","import { useState, useEffect } from \"react\";\nimport Comments from \"./Comments\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { fetch } from \"../../store/csrf\";\n\nimport * as commentActions from \"../../store/comment\";\n\nconst DetailView = ({ expense, user, tid }) => {\n  const dispatch = useDispatch();\n  const [comment, setComment] = useState(\"\");\n  const [length, setLength] = useState(0);\n  const comments = useSelector((state) => state.comments.comments);\n\n  useEffect(() => {\n    return dispatch(commentActions.comments());\n  }, [dispatch, length]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    await fetch(\"/api/comments\", {\n      method: \"POST\",\n      header: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ formData: { comment, transactionId: tid } }),\n    });\n\n    const changeLength = () => {\n      setComment(\"\");\n      if (comments) {\n        setLength(Object.values(comments).length);\n      }\n    };\n    changeLength();\n  };\n\n  return (\n    <>\n      <div className=\"detail-container\">\n        <div className=\"detail-title-container\">\n          <div className=\"detail-title\">{expense.title}</div>\n          <div className=\"detail-amount\">{`$${parseFloat(expense.total).toFixed(\n            2\n          )}`}</div>\n          <div className=\"createdby\">{`Added by ${expense.createdBy} on ${expense.date.month} ${expense.date.day}, ${expense.date.year}`}</div>\n        </div>\n        <div className=\"below-title-container\">\n          <div className=\"detail-users-container\">\n            {expense.userShares.map((share) => {\n              return (\n                <div className=\"detail-users\" key={share.username}>\n                  {share.username !== user.username\n                    ? `${share.username} owes $${share.amount.toFixed(2)}`\n                    : `${share.username} paid $${\n                        share.amount\n                      } and owes $${parseFloat(share.share).toFixed(2)}`}\n                </div>\n              );\n            })}\n          </div>\n          <div className=\"detail-comments-container\">\n            <Comments comments={comments} transactionId={tid}></Comments>\n            <form\n              className=\"comment-form\"\n              onSubmit={handleSubmit}\n              method=\"post\"\n            >\n              <textarea\n                onChange={(e) => setComment(e.target.value)}\n                value={comment}\n                placeholder=\"Add a comment\"\n              ></textarea>\n              <button type=\"sumbit\">Submit</button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default DetailView;\n","import { useState } from \"react\";\nimport DetailView from \"./DetailView\";\n\nimport \"./AllExpenses.css\";\n\nconst ExpenseDetail = ({ expense, user, tid }) => {\n  const [showMenu, setShowMenu] = useState(false);\n\n  const handleClick = () => {\n    setShowMenu((show) => !show);\n  };\n\n  return (\n    <>\n      <div className=\"expense-details\">\n        <div onClick={handleClick} className=\"expense-details-inner\">\n          <div className=\"date-title-container\">\n            <div className=\"date\">\n              <div className=\"month\">{expense.date.month}</div>\n              <div className=\"day\">{expense.date.day}</div>\n            </div>\n            <div className=\"expense-title\">{expense.title}</div>\n          </div>\n          <div className=\"expenses-container\">\n            <div className=\"expense-paid-by-container\">\n              <div className=\"expense-paid-by\">\n                {expense.paidBy !== user.username\n                  ? `${expense.paidBy} paid`\n                  : `you paid`}\n              </div>\n              <div className=\"expense-total\">{`$${parseFloat(\n                expense.total\n              ).toFixed(2)}`}</div>\n            </div>\n          </div>\n          <div className=\"user-info-container\">\n            {expense.paidBy !== user.username ? (\n              <>\n                <div className=\"user-info\">{`${expense.paidBy} lent you `}</div>\n                <div className={`amount-owe`}>{`$${expense.userShares\n                  .find((us) => us.userId === user.id)\n                  .amount.toFixed(2)}`}</div>\n              </>\n            ) : (\n              <>\n                <div className=\"user-info\">{`you get back `}</div>\n                <div className=\"amount-owed\">\n                  {`$${expense.userShares\n                    .find((us) => us.userId === user.id)\n                    .amount.toFixed(2)}`}\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n      {showMenu && (\n        <DetailView tid={tid} expense={expense} user={user}></DetailView>\n      )}\n    </>\n  );\n};\n\nexport default ExpenseDetail;\n","import { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n\nimport \"./AllExpenses.css\";\n\nimport * as transactionActions from \"../../store/transaction\";\n\nimport ExpenseDetail from \"./ExpenseDetail\";\n\nconst AllExpenses = () => {\n  const dispatch = useDispatch();\n  const data = useSelector((state) => state.balances.all);\n  const user = useSelector((state) => state.session.user);\n  const [dataAll, setDataAll] = useState([]);\n\n  useEffect(() => {\n    return dispatch(transactionActions.allExpenses());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (data) {\n      setDataAll(data.result);\n    }\n  }, [data]);\n\n  if (!user) return <Redirect to=\"/\" />;\n\n  return (\n    <div className=\"wrapper\">\n      <div className=\"all-expenses-container\">\n        <div className=\"expenses-title\">All Expenses</div>\n        <div className=\"expense-detail\">\n          {dataAll ? (\n            dataAll.map((expense) => (\n              <ExpenseDetail\n                id=\"expense-detail\"\n                key={expense.transactionId}\n                tid={expense.transactionId}\n                const\n                expense={expense}\n                user={user}\n              ></ExpenseDetail>\n            ))\n          ) : (\n            <div>loading</div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AllExpenses;\n","import { Route, Switch } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport LoginFormPage from \"./components/LoginFormPage\";\nimport * as sessionActions from \"./store/session\";\nimport SignupFormPage from \"./components/SignUpFormPage\";\nimport Navigation from \"./components/Navigation/index\";\nimport DashboardPage from \"./components/DashboardPage\";\nimport RecentActivityPage from \"./components/RecentActivityPage\";\nimport AllExpenses from \"./components/AllExpenses\";\n// import PageNotFound from \"./components/PageNotFound/PageNotFound\";\n// import Welcome from \"./components/Welcome\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  useEffect(() => {\n    dispatch(sessionActions.restoreUser()).then(() => setIsLoaded(true));\n  }, [dispatch]);\n\n  return (\n    <>\n      <Navigation isLoaded={isLoaded} />\n      {isLoaded && (\n        <Switch>\n          <Route path=\"/login\">\n            <LoginFormPage />\n          </Route>\n          <Route path=\"/signup\">\n            <SignupFormPage />\n          </Route>\n          <Route path=\"/dashboard\">\n            <DashboardPage></DashboardPage>\n          </Route>\n          <Route path=\"/activity\">\n            <RecentActivityPage></RecentActivityPage>\n          </Route>\n          <Route path=\"/all\">\n            <AllExpenses></AllExpenses>\n          </Route>\n          {/* <Route path=\"*\">\n            <PageNotFound></PageNotFound>\n          </Route> */}\n        </Switch>\n      )}\n    </>\n  );\n}\n\nexport default App;\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\n\nimport sessionReducer from \"./session\";\nimport transactionReducer from \"./transaction\";\nimport commentsReducer from \"./comment\";\nimport friendsReducer from \"./friend\";\n\nconst rootReducer = combineReducers({\n  session: sessionReducer,\n  balances: transactionReducer,\n  comments: commentsReducer,\n  friends: friendsReducer,\n});\n\nlet enhancer;\n\nif (process.env.NODE_ENV === \"production\") {\n  enhancer = applyMiddleware(thunk);\n} else {\n  const logger = require(\"redux-logger\").default;\n  const composeEnhancers =\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  enhancer = composeEnhancers(applyMiddleware(thunk, logger));\n}\n\nconst configureStore = (preloadedState) => {\n  return createStore(rootReducer, preloadedState, enhancer);\n};\n\nexport default configureStore;\n","import React from \"react\";\n\nimport \"./index.css\";\n\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport App from \"./App\";\n\nimport configureStore from \"./store\";\nimport { restoreCSRF, fetch } from \"./store/csrf\";\nimport * as sessionActions from \"./store/session\";\nimport * as transactionActions from \"./store/transaction\";\nimport { ModalProvider } from \"./context/Modal\";\n\nconst store = configureStore();\n\nif (process.env.NODE_ENV !== \"production\") {\n  restoreCSRF();\n\n  window.csrfFetch = fetch;\n  window.store = store;\n  window.sessionActions = sessionActions;\n}\n\nconst Root = () => {\n  return (\n    <Provider store={store}>\n      <BrowserRouter>\n        <ModalProvider>\n          <App />\n        </ModalProvider>\n      </BrowserRouter>\n    </Provider>\n  );\n};\n\nReactDOM.render(\n  <React.StrictMode>\n    <Root />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}